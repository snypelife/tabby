!function(e){"use strict";function t(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}var n=function(){function t(e,t){return e[p]?e[p](t):void 0}function n(e){for(var t=e.match(d),n=e.match(g);t.length;)if(e=t.pop())return{selector:e,type:n[t.length]}}function r(e,n){if(t(e,n))return e;for(;e.parentNode;)if(e=e.parentNode,t(e,n))return e}function i(e){var t;if("string"!=typeof e)return e;var r=n(e),e=r.selector,i=r.type;switch(i){case"#":t=document.getElementById(e);break;case".":t=document.getElementsByClassName(e)[0];break;default:t=document.querySelector(e)}return t}function a(e){var t;if("string"!=typeof e)return e;var r=n(e),e=r.selector,i=r.type;switch(i){case".":t=document.getElementsByClassName(e);break;default:t=document.querySelectorAll(e)}return t}function o(e,t){var n=document.createElement(e);return"string"==typeof t?n.innerHTML=t:"object"==typeof t&&n.appendChild(t),n}function c(t,n){var r;switch(n){case"click":case"mousedown":case"mouseup":case"mousemove":r="MouseEvent";break;case"keydown":case"keypress":case"keyup":r="KeyboardEvent";break;case"touchenter":case"touchstart":case"touchend":case"touchcancel":case"touchleave":case"touchmove":r="TouchEvent";break;case"dragstart":case"drag":case"dragenter":case"dragleave":case"dragover":case"drop":case"dragend":r="DragEvent";default:r="CustomEvent"}return t.length&&1!==t.length?Array.prototype.slice.call(t).forEach(function(t){t.dispatchEvent(new e[r](n,{bubbles:!0,cancelable:!0}))}):t.dispatchEvent(new e[r](n,{bubbles:!0,cancelable:!0})),this}function s(e,t,n){return"function"==typeof t?document.addEventListener(e,t,!1):e.split(" ").forEach(function(e){document.addEventListener(e,function(e){var i=r(e.target,t);i&&(e.oTarget=i,n(e))},!1)}),this}function u(e,t,n){return 1===e.length?e.setAttribute(t,n):Array.prototype.slice.call(e).forEach(function(e){e.setAttribute(t,n)}),this}function l(e,t){return r(e,t)}function f(e){var t=[];if("[Object HTMLCollection]"===Object.prototype.toString.call(e))t=Array.prototype.slice.call(e);else for(var n=e.length>>>0;n--;)t[n]=e[n];return t}function h(e){return Array.isArray?Array.isArray(e):"[Object Array]"===Object.prototype.toString.call(e)}var d=/^(?:#([\w-]+)|(\w+)|\.([\w-]+)|([\[][\w\-\=\"\']+[\]]))$/,g=/^(?:(#)[\w-]+|()\w+|(\.)[\w-]+|([\[])[\w\-\=\"\']+[\]])$/,p=function(){var e=o("fakeelement");return/\W*function\s+([\w\$]+)\(/.exec(e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.getAttribute)[1]}(),v=function(){var e=o("fakeelement"),t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(var n in t)if(void 0!==e.style[n])return t[n]}();return{get:i,getAll:a,"new":o,trigger:c,on:s,set:u,parent:l,toArray:f,isArray:h,transitionend:v}};e._q=new n;var r,i;e._q.on("touchstart",function(e){r=e.touches[0].clientX,i=e.touches[0].clientY}).on("touchend",function(){r=null,i=null}).on("touchmove",function(e){if(r&&i){var t=e.touches[0].clientX,n=e.touches[0].clientY,a=r-t,o=i-n;Math.abs(a)>Math.abs(o)?_q.trigger(e.target,a>0?"swipe-left":"swipe-right"):_q.trigger(e.target,o>0?"swipe-up":"swipe-down")}}).on(e._q.transitionend,function(e){_q.trigger(e.target,"transitionComplete")}),t.prototype=e.Event.prototype,e.CustomEvent=t,"document"in self&&!("classList"in document.createElement("_"))&&!function(e){if("Element"in e){var t="classList",n="prototype",r=e.Element[n],i=Object,a=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array[n].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1},c=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},s=function(e,t){if(""===t)throw new c("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new c("INVALID_CHARACTER_ERR","String contains an invalid character");return o.call(e,t)},u=function(e){for(var t=a.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],r=0,i=n.length;i>r;r++)this.push(n[r]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},l=u[n]=[],f=function(){return new u(this)};if(c[n]=Error[n],l.item=function(e){return this[e]||null},l.contains=function(e){return e+="",-1!==s(this,e)},l.add=function(){var e,t=arguments,n=0,r=t.length,i=!1;do e=t[n]+"",-1===s(this,e)&&(this.push(e),i=!0);while(++n<r);i&&this._updateClassName()},l.remove=function(){var e,t=arguments,n=0,r=t.length,i=!1;do{e=t[n]+"";var a=s(this,e);-1!==a&&(this.splice(a,1),i=!0)}while(++n<r);i&&this._updateClassName()},l.toggle=function(e,t){e+="";var n=this.contains(e),r=n?t!==!0&&"remove":t!==!1&&"add";return r&&this[r](e),!n},l.toString=function(){return this.join(" ")},i.defineProperty){var h={get:f,enumerable:!0,configurable:!0};try{i.defineProperty(r,t,h)}catch(d){-2146823252===d.number&&(h.enumerable=!1,i.defineProperty(r,t,h))}}else i[n].__defineGetter__&&r.__defineGetter__(t,f)}}(self)}(window);
!function(e,t){"use strict";function i(e){return this.ID=e.ID,this.name=e.name,this.owed=e.owed,this.date=e.date,this.paid=e.paid,this.element=t.new("div"),this.element.classList.add("bill"),this.build()}function n(e,i){var n=t.new("div"),a=t.new("span");return n.classList.add("a-4-col-small"),a.classList.add(e),a.innerHTML=i,n.appendChild(a),n}function a(e){return"$"+parseFloat(e).toFixed(2)}function s(t){var i=e.tabby.today.split("-")[0],n=t.split("-"),a=n[0],s=parseInt(n[1].slice(0,2),10),d=n[2].slice(0,2),l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return a===i?l[s-1]+" "+d:l[s-1]+" "+d+", "+a}i.prototype.build=function(){this.element.appendChild(n("name",this.name)),this.element.appendChild(n("owed",a(this.owed))),this.element.appendChild(n("date",s(this.date))),this.element.classList[!0===this.paid?"add":"remove"]("bill-paid"),this.element.setAttribute("data-id",this.ID);var e=t.new("button");e.classList.add("btn-pay-now"),e.innerHTML="pay";var i=t.new("div");return i.classList.add("a-4-col-small"),i.appendChild(e),this.element.appendChild(i),this.element},e.tabby.bill=i}(window,_q);
!function(t,e,a){"use strict";var i=0;e.on("click","#btn-add-bill",function(){i=0,e.trigger(e.getAll("input"),"validate")}).on("click","#btn-remove-all-bills",function(){a.clear().update()}).on("click",".btn-pay-now",function(t){a.paid(e.parent(t.target,".bill").getAttribute("data-id")).update()}).on("swipe-left",".bill",function(t){t.oTarget.classList.contains("bill-paid")?t.oTarget.classList.add("is-removing"):a.paid(t.oTarget.getAttribute("data-id")).update()}).on("submit","form",function(t){t.preventDefault()}).on("validate","input",function(t){t.target.checkValidity()?(i++,e.trigger(t.target,"valid")):e.trigger(t.target,"invalid")}).on("invalid","input",function(t){return 0===t.target.value.length?void t.target.setCustomValidity("This field is required"):"number"===t.target.type?void t.target.setCustomValidity("Enter a valid dollar amount"):"date"===t.target.type?void t.target.setCustomValidity("Enter a valid date"):void 0}).on("valid",function(){if(i===e.getAll("input").length){var t={ID:Math.floor(+new Date+(parseFloat(e.get("#new-bill-amount").value)||0)),name:e.get("#new-bill-name").value,owed:e.get("#new-bill-amount").value,date:e.get("#new-bill-date").value,paid:!1};a.add(t).update()}}).on("DOMContentLoaded",function(){for(var t=e.getAll("input"),a=0;a<t.length;a++);}),t.tabby.start()}(window,_q,tabby);
!function(t,i){"use strict";function l(){this.db=t.localStorage,this.listEl=i.get(".list-body"),this.bills=this.db.getItem("bills"),this.bills=this.bills?JSON.parse(this.bills):[],this.today=(new Date).toISOString(),this.today=this.today.slice(0,this.today.indexOf("T"))}function s(t){i.get("#new-bill-name").value="",i.get("#new-bill-amount").value="",i.get("#new-bill-date").value=t.today}l.prototype.start=function(){s(this);for(var t=0;t<this.bills.length;t++)this.listEl.appendChild(new this.bill(this.bills[t]));return this},l.prototype.add=function(t){return this.listEl.appendChild(new this.bill(t)),this.bills.push(t),this},l.prototype.paid=function(t){i.get('[data-id="'+t+'"]').classList.add("bill-paid");for(var l=0;l<this.bills.length;l++)if(t===this.bills[l].ID+""){this.bills[l].paid=!0;break}return this},l.prototype.remove=function(t){this.listEl.removeChild(i.get('[data-id="'+t+'"]'));for(var l=0;l<this.bills.length;l++)if(t===this.bills[l].ID+""){this.bills.slice(l,1);break}return this},l.prototype.update=function(){return s(this),this.db.setItem("bills",JSON.stringify(this.bills)),this},l.prototype.clear=function(){for(;this.listEl.firstChild;)this.listEl.removeChild(this.listEl.firstChild);return this.bills=[],this},t.tabby=new l}(window,_q);